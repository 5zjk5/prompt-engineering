# LangGraph 工作流图对比案例

本目录展示了6种不同类型的LangGraph工作流实现方式，每种都有对应的`graph.py`（图形API）和`workflow.py`（函数式API）两种实现方式。

## 6种工作流类型详解

### 1. 链式提示 (Chain Prompt)
- **文件**: `chain_prompt_graph.py`, `chain_prompt_workflow.py`
- **功能**: 多个LLM调用串联，逐步完善输出内容
- **工作流程**: 生成初始内容 → 质量检查 → 改进优化 → 最终输出
- **适用场景**: 需要多步骤处理的创作任务，如文案写作、内容优化
- **核心特点**: 串行处理，每步依赖前步输出


### 2. 评估器-优化器 (Evaluator-Optimizer)
- **文件**: `evaluator_optimizer_graph.py`, `evaluator_optimizer_workflow.py`
- **功能**: 生成器和评估器协作，持续改进直到达到质量标准
- **工作流程**: 生成内容 → 评估质量 → 提供反馈 → 改进生成 → 重新评估
- **适用场景**: 质量要求高的任务，如翻译、创意写作、代码生成
- **核心特点**: 循环迭代，智能质量控制


### 3. 并行化 (Parallelization)
- **文件**: `parallelization_graph.py`, `parallelization_workflow.py`
- **功能**: 同时执行多个独立任务，提高处理效率
- **工作流程**: 并行执行多个任务 → 收集所有结果 → 聚合输出
- **适用场景**: 独立任务同时处理，如多角度分析、多格式输出
- **核心特点**: 并发执行，任务间无依赖


### 4. 计划器-工作者 (Planner-Worker)
- **文件**: `planner_worker_graph.py`, `planner_worker_workflow.py`
- **功能**: 任务分解和分布式执行，协调器管理多个工作者
- **工作流程**: 任务规划 → 分解子任务 → 并行执行 → 结果综合
- **适用场景**: 复杂任务的分解处理，如报告写作、分析任务
- **核心特点**: 分层管理，任务调度


### 5. ReAct智能体 (ReAct Agent)
- **文件**: `react_agent_graph.py`, `react_agent_workflow.py`
- **功能**: 智能决策是否调用工具，实现推理-行动循环
- **工作流程**: LLM分析 → 决策工具调用 → 执行工具 → 继续或结束
- **适用场景**: 需要外部工具支持的任务，如计算、数据查询
- **核心特点**: 智能工具选择，人机协作


### 6. 路由工作流 (Routing)
- **文件**: `routing_graph.py`, `routing_workflow.py`
- **功能**: 根据输入内容智能选择处理路径
- **工作流程**: 分析输入 → 路由决策 → 执行对应节点 → 输出结果
- **适用场景**: 多样化输入处理，如客服系统、内容分类
- **核心特点**: 智能分发，路径选择

## 核心概念

### @task装饰器
- 标记函数为可执行任务
- 返回Future对象，需调用`.result()`执行
- 支持异步和并发执行
- 与@entrypoint配合使用

### @entrypoint装饰器
- 标记工作流入口函数
- 创建可调用的工作流实例
- 支持invoke()和stream()方法
- 用于工作流的启动和管理

### .result()方法
- **必须调用**: 被@task装饰的函数不会自动执行
- **执行触发**: 只有调用.result()才会真正执行任务
- **结果获取**: 返回任务的实际执行结果
- **错误处理**: 包含完整的错误捕获和处理
